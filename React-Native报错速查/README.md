### 因开发环境配置引起的一些问题

1. You are currently running Node v8.1.2 but React Native requires >=8.3
   
   ```javascript
   Computing checksum with shasum -a 256 Checksums matched! Now
   using node v8.3.0 (npm v5.3.0) Reinstalling global packages
   from v8.1.3..
   ```
   
   **node** 版本过低导致，需要升级 **node**。

   [upgrading-node-js-to-latest-version](https://stackoverflow.com/questions/10075990/upgrading-node-js-to-latest-version)

  [一篇文章了解Mac上Node环境配置](https://segmentfault.com/a/1190000015416829)

2. 升级 **React Native** 报错
   
   使用 **react-native-git-upgrade** 升级报错。
   
   [react-native/issues/20876](https://github.com/facebook/react-native/issues/20876)
   
3. Xcode 10 Error: Multiple commands produce
   
   [xcode-10-error-multiple-commands-produce](https://stackoverflow.com/questions/50718018/xcode-10-error-multiple-commands-produce)   
   
4. **React Native version mismatch** 问题解决方式   
   
   [关于使用React Native开发app 遇到React Native version mismatch问题解决方式](https://segmentfault.com/a/1190000014886598?utm_source=tag-newest)
   
   <font color=#DC143C>注意：</font>此方案是 **Android** 的解决方案。**iOS** 遇到这个问题，该方案不起作用。最终定位问题为：**8081**端口被占用导致。需要在终端中查找占用端口的进程并杀死，然后重启服务。
   
   * 查找占用端口的应用
   
     ```bash
     $ sudo lsof -i :8081
     ``` 
   * kill
   
     ```bash
     kill -9 40247
     ```
     
     **40247 是应用的 PID**
   
   * 重启
     
     ```bash
     yarn start
     ```
5. npm install -g react-devtools
    
   [react-devtools](https://github.com/facebook/react-devtools/tree/master/packages/react-devtools)
   
6. Another active Homebrew process is already using yarn.formula.

   安装 **yarn** 遇到的一些问题：   
   
   ```bash
   Operation already in progress for yarn.formula
   Another active Homebrew process is already using 
   yarn.formula. Please wait for it to finish or terminate it
   to continue.
   ```
   
   通过 **Tarball**
   
   ```bash
   curl -o- -L https://yarnpkg.com/install.sh | bash
   ```
   
   [yarn/issues/599](https://github.com/yarnpkg/yarn/issues/599)
   
7. VS Code 中引入代码规范
   
   需要在 .eslintrc 文件中配置 **eslint-config-mcrn**
   
   ```bash
   {
    "extends": "eslint-config-mcrn",
    "globals": {
      "__DEV__": false,
      "fetch": false,
      "navigator": false,
      "store": false,
      "mconnect": false,
      "screen": false
    }
   ```
   
   在 **package.json** 中引入，
   
   ```bash
    "devDependencies": {
    "babel-jest": "23.6.0",
    "jest": "23.6.0",
    "metro-react-native-babel-preset": "0.48.3",
    "react-test-renderer": "16.6.0-alpha.8af6728",
    "eslint-config-mcrn": "*"
    }
   ```
   
8. 编译时 **No bundle url presen**

   造成该问题的原因有多种，这里重新 **npm install** 后解决。
   
   [issues/12754](https://github.com/facebook/react-native/issues/12754)
   
9. “RCTBundleURLProvider.h” file not found - AppDelegate.m

   先 **npm install** 再 **react-native upgrade** 版本仍为当前版本。
   
   [rctbundleurlprovider-h-file-not-found-appdelegate-m](https://stackoverflow.com/questions/40368211/rctbundleurlprovider-h-file-not-found-appdelegate-m)  
   
10. [Workarounds] Packager unable to resolve module from /Users/node_modules/ #4968

   编译时，突然报这个错，模拟器会给出解决错误的四个提示：
    
   1. Delete the node_modules folder - rm -rf node_modules && npm install
   2. Reset packager cache - rm -fr $TMPDIR/react-* or node_modules/react-native/packager/packager.sh --reset-cache
   3. Clear watchman watches - watchman watch-del-all
   4. Recreate the project from scratch 
   
   删除工程主目录下的 **node_modules** 文件夹，重新 **npm install** 解决。   
   
   <font color=#DC143C>注意：</font>后来第二天又遇到了这个问题，这就比较奇怪了。在同事的帮助下，最终明白了，频繁导致这个原因：在引入一个三方组件后，需要执行 **yarn** 或者 **npm install** 命令进行配置。究其原因是使用三方组件时，通过，
   
   ```javascript
   import xxx from 'react-native-xxx';
   ```
   
   导入。
   
11. 安装模板工程 mcrn-cli   
   
    [mcrn-cli](https://github.com/meicai-fe/mcrn-cli)
   
    报错，
   
    ```bash
    https://github.com/CocoaPods/CocoaPods/search?q=[!] 
    Xcodeproj doesn't know about the following attributes 
    {"inputFileListPaths"=>[], "outputFileListPaths"=>[]} for 
    the 'PBXShellScriptBuildPhase' isa.If this attribute was
    generated by Xcode please file an issue: 
    ```
    
    **Ruby** 版本过低，需要升级，
    
    ```bash
    curl -L https://get.rvm.io | bash -s stable --ruby
    ```
    
    然后，再通过 **rvm** 配置并设置默认的 **Ruby** 版本。
    
    ```bash 
    $ rvm install 2.5.1
    ```
    
    ```bash
    $ rvm use 2.5.1 --default
    ```

12. */Library/Ruby/Site/2.0.0/rubygems.rb:271:in find_spec_for_exe': can't find gem cocoapods (>= 0.a) (Gem::GemNotFoundException) from /Library/Ruby/Site/2.0.0/rubygems.rb:299:inactivate_bin_path' from /usr/local/bin/pod:22:in `<main>'*

    重新安装cocoaPods: 

    ```bash
    sudo gem install cocoapods
    ```    
    <font color=#DC143C>注意：</font> 安装 **cocoaPods** 时避免使用 **sudo gem install -n /usr/local/bin cocoapods --pre** 安装预览版，预览版可能会导致其他问题。
    
13. 修改资源文件的加载路径后，一直报图片找不到的错误  
    
    需要清理当前项目的缓存，然后重新编译即可。分别在项目对应目录下执行，
    
    ```bash
    watchman watch-del-all
    ```
    然后在执行，
    
    ```bash
    react-native start --reset-cache
    ```

14. <font color=#DC143C>重要：undefined is not an object (evaluating 'this.show.bind') </font>

    因 **JS** 中的 **this** 指向导致的问题，在 **_renderItem** 函数
    中，使用箭头函数，
    
    ```javascript
    _renderItem =(item)=> {
    
    }
    ```
    [JavaScript 的 this 指向问题深度解析](https://segmentfault.com/a/1190000008400124)   